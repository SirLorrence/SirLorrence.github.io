<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Setting up Git LFS Linode server with the help of open-source | Laurence Sadler</title>
<meta name="keywords" content="">
<meta name="description" content="To avoid splitting commits between GitHub and GitLab, I created my own LFS server on GitHub to surpass the 1GB limit. With the help of Git LFS S3 Proxy, I transferred the projects to the new server.">
<meta name="author" content="Laurence Sadler">
<link rel="canonical" href="https://sirlorrence.github.io/posts/setting-up-linode-lfs-server/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.52e33300358c98501a2416ecbb40137de1801d2c850f0646f9913dde8162339f.css" integrity="sha256-UuMzADWMmFAaJBbsu0ATfeGAHSyFDwZG&#43;ZE93oFiM58=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://sirlorrence.github.io/assets/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://sirlorrence.github.io/assets/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://sirlorrence.github.io/assets/favicon-32x32.png%3E">
<link rel="apple-touch-icon" href="https://sirlorrence.github.io/assets/apple-touch-icon.png">
<link rel="mask-icon" href="https://sirlorrence.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="https://sirlorrence.github.io/posts/setting-up-linode-lfs-server/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
  

<meta property="og:title" content="Setting up Git LFS Linode server with the help of open-source" />
<meta property="og:description" content="To avoid splitting commits between GitHub and GitLab, I created my own LFS server on GitHub to surpass the 1GB limit. With the help of Git LFS S3 Proxy, I transferred the projects to the new server." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sirlorrence.github.io/posts/setting-up-linode-lfs-server/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2024-01-24T00:00:00+00:00" />
<meta property="article:modified_time" content="2024-01-24T00:00:00+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Setting up Git LFS Linode server with the help of open-source"/>
<meta name="twitter:description" content="To avoid splitting commits between GitHub and GitLab, I created my own LFS server on GitHub to surpass the 1GB limit. With the help of Git LFS S3 Proxy, I transferred the projects to the new server."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://sirlorrence.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Setting up Git LFS Linode server with the help of open-source",
      "item": "https://sirlorrence.github.io/posts/setting-up-linode-lfs-server/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Setting up Git LFS Linode server with the help of open-source",
  "name": "Setting up Git LFS Linode server with the help of open-source",
  "description": "To avoid splitting commits between GitHub and GitLab, I created my own LFS server on GitHub to surpass the 1GB limit. With the help of Git LFS S3 Proxy, I transferred the projects to the new server.",
  "keywords": [
    
  ],
  "articleBody": "For those looking to set up your Linode Server with git-lfs, I used git-lfs-s3-proxy; this is my experience with setting it up.\nMy motivation to do this stems from trying to keep all my source code on one platform. Before, I was splitting my commits between GitHub and GitLab. For game development, Gitlab is a better choice as they give you 10GB of LFS storage across all your projects, while GitHub gives you….1GB - one unreal project that had only code, and the starter assets took up more than half of my storage alongside with my other unity projects. But GitLab doesn’t have much of an open-source community like GitHub has. Plus, I want my git contribution graph to be popin.\nSo, I decided to go with GitHub and set up my own LFS server to get past the 1GB limit. Why not just buy more storage? Because each project would still add to my total LFS storage, I would have to pay more later once I reach that upper limit, even if I archive it. The only way (on GitHub) to reclaim that space is to delete the repo, and you’ll lose those commits from your contribution graph. Which no…. I want those green squares.\nOkay, that’s the motivation. Now, I had to pick a host. I decided to go with Linode, seeing that it was the most cost-effective one compared to AWS (in some cases), and I heard a lot about it from The Linux Experiment. Using ChatGPT \u0026 Bard, I thought it was going to be easy as - In the repo, initialize git lfs and use git config --global lfs.url https://your-object-storage-bucket.your-region.linodeobjects.com. Done, so I push a test 100mb file…. Nothing. I retrace my steps and use git lfs env, and the address is right, but it still doesn’t work. Now, it’s time to get some help.\nFirst, I went to Reddit to see how other people managed to get it working. Many of them were using AWS, most likely using this setup by Alan Edwardes. Well all I knew I had a S3 bucket, and I need to send data to it. What I noticed is that they all used some proxy, and then I found Git LFS S3 Proxy by Milkey Mouse. After going through his setup steps and reinitializing the repo. It started, but I was getting an Authorization error. Using GIT_TRACE=1, I showed that it was not reaching the HTTP address, and it kept trying until it timed out. Feeling lost cause I’ve been trying to make this work for two days, I filed an issue and hoped the dev would respond. Luckily, within 2 days, 2 DAYS, he came in with a fix, and it worked! Now I have my own LFS server up \u0026 running, and I managed to migrate my projects to it.\n",
  "wordCount" : "473",
  "inLanguage": "en",
  "datePublished": "2024-01-24T00:00:00Z",
  "dateModified": "2024-01-24T00:00:00Z",
  "author":{
    "@type": "Person",
    "name": "Laurence Sadler"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://sirlorrence.github.io/posts/setting-up-linode-lfs-server/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Laurence Sadler",
    "logo": {
      "@type": "ImageObject",
      "url": "https://sirlorrence.github.io/assets/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://sirlorrence.github.io/" accesskey="h" title="Laurence Sadler (Alt + H)">Laurence Sadler</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://sirlorrence.github.io/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="https://sirlorrence.github.io/posts/" title="Blogs">
                    <span>Blogs</span>
                </a>
            </li>
            <li>
                <a href="https://sirlorrence.github.io/laurencesadler-resume.pdf" title="CV">
                    <span>CV</span>
                </a>
            </li>
            <li>
                <a href="https://sirlorrence.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://sirlorrence.github.io/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://sirlorrence.github.io/">Home</a>&nbsp;»&nbsp;<a href="https://sirlorrence.github.io/posts/">Posts</a></div>
    <h1 class="post-title entry-hint-parent">
      Setting up Git LFS Linode server with the help of open-source
    </h1>
    <div class="post-meta"><span title='2024-01-24 00:00:00 +0000 +0000'>January 24, 2024</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Laurence Sadler

</div>
  </header> 
  <div class="post-content"><p>For those looking to set up your Linode Server with git-lfs, I used <a href="https://github.com/milkey-mouse/git-lfs-s3-proxy">git-lfs-s3-proxy</a>; this is my experience with setting it up.</p>
<p>My motivation to do this stems from trying to keep all my source code on one platform. Before, I was splitting my commits between GitHub and GitLab. For game development, Gitlab is a better choice as they give you 10GB of LFS storage across all your projects, while GitHub gives you….1GB - one unreal project that had only code, and the starter assets took up more than half of my storage alongside with my other unity projects. But GitLab doesn’t have much of an open-source community like GitHub has. Plus, I want my git contribution graph to be popin.</p>
<p>So, I decided to go with GitHub and set up my own LFS server to get past the 1GB limit. Why not just buy more storage? Because each project would still add to my total LFS storage, I would have to pay more later once I reach that upper limit, even if I archive it. The only way (on GitHub) to reclaim that space is to delete the repo, and you’ll lose those commits from your contribution graph. Which no…. I want those green squares.</p>
<p><img loading="lazy" src="https://blog.karenying.com/static/3791821603a2ba731cabf17cc891864b/9a301/github-commit-bot.webp" alt="git graph image"  />
</p>
<p>Okay, that’s the motivation. Now, I had to pick a host. I decided to go with Linode, seeing that it was the most cost-effective one compared to AWS (in some cases), and I heard a lot about it from <a href="https://www.youtube.com/@TheLinuxEXP">The Linux Experiment</a>. Using ChatGPT &amp; Bard, I thought it was going to be easy as - In the repo, initialize git lfs and use   <code>git config --global lfs.url https://your-object-storage-bucket.your-region.linodeobjects.com</code>.  Done, so I push a test 100mb file…. Nothing. I retrace my steps and use git lfs env, and the address is right, but it still doesn’t work. Now, it&rsquo;s time to get some help.</p>
<p>First, I went to Reddit to see how other people managed to get it working. Many of them were using AWS, most likely using this setup by <a href="https://alanedwardes.com/blog/posts/serverless-git-lfs-for-game-dev/">Alan Edwardes</a>. Well all I knew I had a S3 bucket, and I need to send data to it. What I noticed is that they all used some proxy, and then I found <a href="https://github.com/milkey-mouse/git-lfs-s3-proxy">Git LFS S3 Proxy</a> by Milkey Mouse. After going through his setup steps and reinitializing the repo. It started, but I was getting an Authorization error. Using <code>GIT_TRACE=1</code>, I showed that it was not reaching the HTTP address, and it kept trying until it timed out. Feeling lost cause I’ve been trying to make this work for two days, I filed an issue and hoped the dev would respond. Luckily, within 2 days, 2 DAYS, he came in with a fix, and it worked! Now I have my own LFS server up &amp; running, and I managed to migrate my projects to it.</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="https://sirlorrence.github.io/">Laurence Sadler</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
